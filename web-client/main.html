<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Система тестирования</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Шапка -->
    <div id="statusBar">
        <span id="userStatus">Статус: Неизвестный</span>
        <span id="userInfo"></span>
    </div>

    <!-- Состояние 1: Неизвестный -->
    <div id="stateUnknown" class="state active">
        <h1>Вход в систему тестирования</h1>
        <div id="authButtons">
            <!-- Кнопки будут добавляться скриптом -->
        </div>
    </div>

    <!-- Состояние 2: Анонимный -->
    <div id="stateAnonymous" class="state">
        <h2>Ожидание подтверждения...</h2>
        <div>
            <div class="spinner"></div>
            <p>Ожидайте подтверждения входа</p>
            <button onclick="cancelAuth()" class="btn-cancel">Отмена</button>
        </div>
    </div>

    <!-- Состояние 3: Авторизованный -->
    <div id="stateAuthorized" class="state">
        <!-- Навигация -->
        <div class="nav">
            <button onclick="showSection('courses')" class="active">Мои курсы</button>
            <button onclick="showSection('allcourses')">Все курсы</button>
            <button onclick="showSection('tests')">Тесты</button>
            <button onclick="showSection('results')">Результаты</button>
            <button onclick="showSection('profile')">Профиль</button>
            <button onclick="showSection('admin')" id="adminBtn" style="display:none;">Админ</button>
        </div>

        <!-- Контент -->
        <div id="content">
            <!-- Мои курсы -->
            <div id="sectionCourses" class="section active">
                <h2>Мои курсы</h2>
                <div id="coursesList">Загрузка...</div>
            </div>

            <!-- Все курсы -->
            <div id="sectionAllcourses" class="section">
                <h2>Все курсы</h2>
                <div id="allCoursesList">Загрузка...</div>
            </div>

            <!-- Тесты -->
            <div id="sectionTests" class="section">
                <h2>Тесты</h2>
                <div id="courseInfo"></div>
                <div id="testsList">Загрузка...</div>
            </div>

            <!-- Результаты -->
            <div id="sectionResults" class="section">
                <h2>Результаты</h2>
                <div id="resultsList">Загрузка...</div>
            </div>

            <!-- Профиль -->
            <div id="sectionProfile" class="section">
                <h2>Профиль</h2>
                <div id="profileContent">Загрузка...</div>
            </div>

            <!-- Админ -->
            <div id="sectionAdmin" class="section">
                <h2>Админ-панель</h2>
                <div class="admin-buttons">
                    <button onclick="createCourseDialog()" class="btn-create-course">Создать курс</button>
                    <button onclick="showAllUsers()" class="btn-show-users">Все пользователи</button>
                </div>
                <div id="adminContent"></div>
            </div>

            <!-- Тест -->
            <div id="sectionTest" class="section">
                <h2 id="testTitle">Тест</h2>
                <div id="questionCounter" style="color: white; font-size: 18px; margin-bottom: 20px;">Вопрос 0/0</div>
                <div id="testContent"></div>
            </div>

            <!-- Результат теста -->
            <div id="sectionTestResult" class="section">
                <h2>Результат теста</h2>
                <div id="testResultContent"></div>
                <button onclick="backToTests()" class="btn-back-to-tests">Вернуться к тестам</button>
            </div>
        </div>
    </div>

    <!-- Модальные окна -->
    <div id="codeModal" class="modal">
        <div>
            <h3>Вход по коду</h3>
            <input type="text" id="authCode" maxlength="6" placeholder="123456" class="code-input">
            <div id="codeInfo">Введите 6-значный код</div>
            <button onclick="submitCode()" class="btn-submit-code">Войти</button>
            <button onclick="hideCodeModal()" class="btn-cancel-code">Отмена</button>
        </div>
    </div>


    <div id="createCourseModal" class="modal">
        <div>
            <h3>Создать курс</h3>
            <input type="text" id="courseName" placeholder="Название курса" class="course-input">
            <textarea id="courseDesc" placeholder="Описание курса" class="course-textarea"></textarea>
            <button onclick="createCourse()" class="btn-create-course-submit">Создать</button>
            <button onclick="hideModal('createCourseModal')" class="btn-create-course-cancel">Отмена</button>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>